app.base64=function(t,e){return e?decodeURIComponent(escape(window.atob(t))):btoa(unescape(encodeURIComponent(t)))},app.randint=function(t,e){return Math.round(t-.5+Math.random()*(e-t+1))},app.randstr=function(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",a="",o=0;o<t;o++)a+=e.charAt(this.randint(0,e.length));return a},app.scrollTo=function(t,e,a){e=void 0===e?300:e,a=void 0===a?function(){}:a,$("html, body").animate({scrollTop:$(t).offset().top},e,a)},app.request=function(t,e,a,o,n){var r="[object FormData]"===e.toString()?e:new FormData;r.append("token",app.token),"[object FormData]"!==e.toString()&&void 0!==e&&$.each(e,(function(t,e){r.append(t,e)}));var i={url:t,dataType:"json",type:"POST",async:!0,cache:!1,contentType:!1,processData:!1,data:r,error:function(t,e,a){if("function"!=typeof o)return console.log(t),pipui.alert.open("Произошла ошибка выполнения запроса. Обратитесь к администрации");o(t,e,a)},success:function(t,e,o){"function"==typeof a&&a(t,e,o)}};return"function"==typeof n&&(i.xhr=function(){var t=new window.XMLHttpRequest;return"function"==typeof n&&n(t),t}),$.ajax(i)},app.translate=function(t){for(var e={"а":"a","А":"A","б":"b","Б":"B","в":"v","В":"V","г":"g","Г":"G","д":"d","Д":"D","е":"e","Е":"E","ж":"zh","Ж":"ZH","з":"z","З":"Z","и":"i","И":"I","й":"y","Й":"Y","к":"k","К":"K","л":"l","Л":"L","м":"m","М":"M","н":"n","Н":"N","о":"o","О":"O","п":"p","П":"P","р":"r","Р":"R","с":"s","С":"S","т":"t","Т":"T","у":"u","У":"U","ф":"f","Ф":"F","х":"h","Х":"H","ц":"c","Ц":"TS","ч":"ch","Ч":"CH","ш":"sh","Ш":"SH","щ":"sch","Щ":"SHC","ъ":"","Ъ":"","ы":"i","Ы":"I","ь":"","Ь":"","э":"e","Э":"E","ю":"yu","Ю":"YU","я":"ya","Я":"YA","і":"i","І":"I","ї":"yi","Ї":"YI","є":"e","Є":"E"," ":"-"},a=t.length,o="",n=0;n<a;n++)void 0===e[t[n]]?t[n].match(/^[a-z0-9]+$/i)?o+=t[n]:o+="":o+=e[t[n]];return o},app.getFormValues=function(t){return new FormData(t[0])},app.objectLength=function(t){if(void 0===t)return 0;var e=Object.keys(t).length;return void 0===e?0:e},app.date={toCase:function(t,e,a,o){return void 0===e&&(e=""),void 0===a&&(a=""),void 0===o&&(o=""),(t=parseInt(t))>20&&(t%=10),1==t?e:2==t||3==t||4==t?a:o},toFormat:function(t){var e=(Date.now()/1e3).toFixed();if((e=app.diff<0?e+app.diff:e-app.diff)==t)return"cейчас";var a,o=e-t,n=o<0;if(n&&(o*=-1),o<60)return a=app.date.toCase(o,"секунду","секунды","секунд"),n?"через "+o+" "+a:o+" "+a+" назад";var r=parseInt(o/60);if(r<60)return a=app.date.toCase(r,"минуту","минуты","минут"),n?"через "+r+" "+a:r+" "+a+" назад";var i=parseInt(o/3600);if(i<24)return a=app.date.toCase(i,"час","часа","часов"),n?"через "+i+" "+a:i+" "+a+" назад";var p=parseInt(o/86400);if(p<7)return a=app.date.toCase(p,"день","дня","дней"),n?"через "+p+" "+a:p+" "+a+" назад";var c=parseInt(o/604800);if(c<5)return a=app.date.toCase(c,"неделю","недели","недель"),n?"через "+c+" "+a:c+" "+a+" назад";var l=parseInt(o/2592e3);if(l<12)return a=app.date.toCase(l,"месяц","месяца","месяцев"),n?"через "+l+" "+a:l+" "+a+" назад";var s=parseInt(o/31536e3);return 1==s?"год назад":(a=app.date.toCase(s,"год","года","лет"),n?"через "+s+" "+a:s+" "+a+" назад")}},app.alphabet='abcdefghijklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ1234567890~!@#$%^&*()_.,-+"?`№;:*=[]{}|/><',app.clipboard={timeout:{}},$((function(){$('form[method="POST"], form[method="post"]').prepend('<input name="token" value="'+app.token+'" type="hidden">');var t=void 0;$(window).on("scroll",(function(){void 0!==t&&clearTimeout(t),t=setTimeout((function(){$(window).scrollTop()<=0?$(".global-scroll").fadeOut("slow"):$(".global-scroll").fadeIn("fast")}),50)})),$("body").on("click",".scroll-to",(function(t){t.preventDefault();var e=$(this).attr("href"),a=$(e).offset();if(!a)return t;var o=a.top;$("html").animate({scrollTop:o},400)})).on("click",".preventDefault",(function(t){t.preventDefault()})).on("click",".copy-clipboard",(function(t){t.preventDefault();var e=$(this);e.addClass("active"),void 0!==app.clipboard.timeout.ip&&clearTimeout(app.clipboard.timeout.ip),app.clipboard.timeout.ip=setTimeout((function(){e.removeClass("active")}),2e3)})).on("click",".header .mobile",(function(t){t.preventDefault(),$(this).closest(".header").toggleClass("active")})).on("click",".tabs > .menu",(function(t){t.preventDefault(),$(this).closest(".tabs").toggleClass("active")})).on("click",".language-selector > .selected",(function(t){t.preventDefault(),$(this).closest(".language-selector").toggleClass("active")})),$("html").on("click","body",(function(t){$(t.target).closest(".language-selector").length||$(".language-selector").removeClass("active")})),new ClipboardJS(".copy-clipboard")}));